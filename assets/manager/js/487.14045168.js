"use strict";(self["webpackChunkblog_manager"]=self["webpackChunkblog_manager"]||[]).push([[487],{9487:function(t,e,l){l.r(e),l.d(e,{default:function(){return f}});var i=l(6521),a=l(1689),s=l(8834),o=l(1526),n=l(6278),r=l(6928),c=l(4155),d=l(8412),g=l(9940),m=function(){var t=this,e=t._self._c;return e(n.A,[e(d.A,[e(o.A,{attrs:{cols:"12"}},[e("h3",[t._v("Blog Manager")])])],1),e(d.A,[e(o.A,{attrs:{cols:"12"}},[e(a.A,[e(s.ri,[t._v("Table")]),e(s.OQ,[e(r.A,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.blogList,"items-per-page":20},scopedSlots:t._u([{key:"item.actions",fn:function({item:l}){return[e(i.A,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(l)}}},[t._v("编辑")])]}}])})],1)],1)],1)],1),e(c.A,{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(a.A,[e(s.ri,[t._v('You are editing "'+t._s(t.editingItem.title)+'"')]),e(s.OQ,[e(g.A,{attrs:{label:"标题",required:""},model:{value:t.editingItem.title,callback:function(e){t.$set(t.editingItem,"title",e)},expression:"editingItem.title"}}),e(g.A,{attrs:{label:"日期",required:""},model:{value:t.editingItem.date,callback:function(e){t.$set(t.editingItem,"date",e)},expression:"editingItem.date"}}),e(g.A,{attrs:{label:"邮箱",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(i.A,{staticClass:"my-2",attrs:{color:"primary",block:""},on:{click:t.exportBlog}},[t._v("导出")]),e(i.A,{staticClass:"my-2",attrs:{color:"success",block:""},on:{click:t.viewBlog}},[t._v("查看")]),e(i.A,{staticClass:"my-2",attrs:{color:"error",block:""},on:{click:t.deleteBlog}},[t._v("删除")]),e(i.A,{staticClass:"my-2",attrs:{color:"error",block:""},on:{click:function(e){t.editDialog=!1}}},[t._v("取消")])],1)],1)],1)],1)},u=[],h=l(696),b={name:"TemplatePage",data(){return{dialog:!1,editDialog:!1,editingItem:{date:"",title:""},email:"",blogList:[],headers:[{text:"Key",value:"date"},{text:"Value",value:"title"},{text:"Actions",value:"actions",sortable:!1}]}},methods:{exportBlog(){let t=this.editingItem.date+"-"+this.editingItem.title+".md";h.A.get("/blog/export?filename="+t+"&email="+this.email).then((t=>{console.log(t),200===t.status&&alert(t.data.message+" ID:"+t.data.bg_id)}))},viewBlog(){},deleteBlog(){alert("Delete is not supported in this view.")},saveEdit(){},editItem(t){this.editingItem=t,this.editDialog=!0,this.dialog=!0},showDialog(){this.dialog=!0},closeDialog(){this.dialog=!1},createItem(){},fetchBlogList(){h.A.get("/blog/all").then((t=>{let e=t.data;const l=e.map((t=>{const e=t.split("-");if(e.length<4)return null;const l=e.slice(0,3).join("-"),i=e.slice(3).join("-").replace(".md","");return{date:l,title:i}})).filter((t=>null!==t));this.blogList=l}))}},mounted(){this.fetchBlogList()}},p=b,v=l(1656),A=(0,v.A)(p,m,u,!1,null,null,null),f=A.exports}}]);
//# sourceMappingURL=487.14045168.js.map